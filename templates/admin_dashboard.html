{% extends 'base.html' %}

{% block content %}
  <div class="container-fluid">
    <h1>Admin Dashboard</h1>

    <!-- Dropdown Menu to Select Section -->
    <div class="dropdown mb-4">
      <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
        Select Section
      </button>
      <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <li><a class="dropdown-item" href="#" onclick="showSection('lost_items')">Lost Items</a></li>
        <li><a class="dropdown-item" href="#" onclick="showSection('found_reports')">Found Items Reports</a></li>
        <li><a class="dropdown-item" href="#" onclick="showSection('claims')">Claims</a></li>
      </ul>
    </div>

    <!-- Button to Add Lost Item (Always visible) -->
    <a href="{{ url_for('add_lost_item') }}" class="btn btn-success mb-4">Add Lost Item</a>

    <!-- Lost Items Section (Visible by Default) -->
    <div id="lost_items" class="section" style="display:block;">
      <h2>Lost Items</h2>

      <div class="table-container">
        <table class="table table-bordered table-responsive">
          <thead>
            <tr>
              <th>Item Name</th>
              <th>Description</th>
              <th>Status</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            {% for item in lost_items %}
            <tr>
              <td>{{ item.name }}</td>
              <td>{{ item.description }}</td>
              <td>{{ item.status }}</td>
              <td>
                <!-- Action Links (Edit or Delete actions can be added here) -->
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>

    <!-- Found Items Reports Section (Initially Hidden) -->
    <div id="found_reports" class="section" style="display:none;">
      <h2>Found Items Reports</h2>
      <!-- Add found items report section content here -->
    </div>

    <!-- Claims Section (Initially Hidden) -->
    <div id="claims" class="section" style="display:none;">
      <h2>Claims</h2>
      <!-- Add claims section content here -->
    </div>

  </div>

  <!-- JavaScript to Show/Hide Sections -->
  <script>
    function showSection(sectionId) {
      // Hide all sections
      const sections = document.querySelectorAll('.section');
      sections.forEach(section => {
        section.style.display = 'none';
      });

      // Show the selected section
      const selectedSection = document.getElementById(sectionId);
      selectedSection.style.display = 'block';
    }
  </script>

  <!-- Custom CSS -->
  <style>
    .table-container {
      max-height: calc(100vh - 200px); /* Make the table container take full height minus some padding */
      overflow-y: auto; /* Add vertical scroll if the table is too long */
    }

    table {
      width: 100%;
    }

    .dropdown-menu {
      min-width: 200px;
    }

    .container-fluid {
      padding: 20px;
    }

    /* Card Styling */
    .card {
    border: 4px solid #2dd1fa; /* Blue border*/
    border-radius: 10px; /* Rounded corners for cards */
    }

    .card-body {
    background-color: #ffffff; /* White background for the card */
    padding: 20px;
    }

    .section {
      padding: 20px;
    }

    /* Make sure the Add Lost Item button stays at the top */
    .btn-success {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
    }
  </style>

{% endblock %}
